# Wiki è‡ªåŠ¨ç”ŸæˆæŠ€èƒ½ï¼ˆä¸­æ–‡ç‰ˆï¼‰

æœ¬æ–‡ä»¶ä¸ºä¸­æ–‡ç”¨æˆ·æä¾›æŠ€èƒ½ä½¿ç”¨è¯´æ˜ã€‚

> **æ ¸å¿ƒåŸåˆ™**ï¼šç”Ÿæˆçš„æ–‡æ¡£å¿…é¡» **è¯¦ç»†ã€ç»“æ„åŒ–ã€æœ‰å›¾è¡¨ã€ç›¸äº’å…³è”**ï¼Œè¾¾åˆ°ä¼ä¸šçº§æŠ€æœ¯æ–‡æ¡£æ ‡å‡†ã€‚

## ğŸ“‹ æ–‡æ¡£è´¨é‡æ ‡å‡†

**å…³é”®è¦æ±‚**ï¼šæ‰€æœ‰ç”Ÿæˆçš„æ–‡æ¡£å¿…é¡»æ»¡è¶³ä»¥ä¸‹æ ‡å‡†ï¼š

### å†…å®¹æ·±åº¦
- æ¯ä¸ªä¸»é¢˜å¿…é¡»æœ‰**å®Œæ•´çš„ä¸Šä¸‹æ–‡**â€”â€”ä¸èƒ½åªæœ‰ç®€å•åˆ—è¡¨æˆ–éª¨æ¶å†…å®¹
- æè¿°å¿…é¡»**è¯¦ç»†ä¸”å…·ä½“**â€”â€”è§£é‡Š WHYï¼ˆä¸ºä»€ä¹ˆï¼‰å’Œ HOWï¼ˆå¦‚ä½•å®ç°ï¼‰
- å¿…é¡»åŒ…å«**å¯è¿è¡Œçš„ä»£ç ç¤ºä¾‹**å’Œé¢„æœŸè¾“å‡º
- å¿…é¡»è®°å½•**è¾¹ç•Œæƒ…å†µã€è­¦å‘Šã€å¸¸è§é™·é˜±**

### ç»“æ„è¦æ±‚
- ä½¿ç”¨**å±‚çº§æ ‡é¢˜**ï¼ˆH2/H3/H4ï¼‰å»ºç«‹æ¸…æ™°çš„ä¿¡æ¯æ¶æ„
- é‡è¦æ¦‚å¿µç”¨**è¡¨æ ¼**å‘ˆç°ä¾¿äºå¿«é€Ÿå‚è€ƒ
- æµç¨‹ç”¨ **Mermaid å›¾è¡¨**å¯è§†åŒ–
- æ–‡æ¡£é—´é€šè¿‡**äº¤å‰é“¾æ¥**å»ºç«‹å…³è”

### å›¾è¡¨è¦æ±‚ï¼ˆæ¯ä¸ªæ–‡æ¡£è‡³å°‘ 2-3 ä¸ªï¼‰
| å†…å®¹ç±»å‹ | å›¾è¡¨ç±»å‹ |
|---------|----------|
| æ¶æ„ | `flowchart TB` + subgraph |
| æ•°æ®/è°ƒç”¨æµ | `sequenceDiagram` |
| çŠ¶æ€å˜åŒ– | `stateDiagram-v2` |
| **ç±»/æ¥å£** | `classDiagram` å«å±æ€§+æ–¹æ³• |
| ä¾èµ–å…³ç³» | `flowchart LR` |

### ğŸ”´ å¼ºåˆ¶è¦æ±‚ï¼šæºç è¿½æº¯

**æ¯ä¸ªç« èŠ‚æœ«å°¾å¿…é¡»åŒ…å«æºç å¼•ç”¨**ï¼š

```markdown
**Section sources**
- [filename.ts](file://path/to/file.ts#L1-L50)
- [another.ts](file://path/to/another.ts#L20-L80)

**Diagram sources**
- [architecture.ts](file://src/architecture.ts#L1-L100)
```

### ğŸ”´ å¼ºåˆ¶è¦æ±‚ï¼šæ¨¡å—æ–‡æ¡£ç»“æ„

æ¯ä¸ªæ¨¡å—æ–‡æ¡£å¿…é¡»åŒ…å«ä»¥ä¸‹ç« èŠ‚ï¼ˆæœ€å°‘ 200+ è¡Œï¼‰ï¼š

| ç« èŠ‚ | å¿…éœ€å†…å®¹ |
|------|----------|
| **æ¦‚è¿°** | å®Œæ•´ä»‹ç»ã€æ ¸å¿ƒä»·å€¼ã€åœ¨æ¶æ„ä¸­çš„ä½ç½®å›¾ |
| **æ ¸å¿ƒåŠŸèƒ½** | åŠŸèƒ½è¡¨æ ¼ + classDiagram ç±»å›¾ï¼ˆå«å±æ€§+æ–¹æ³•ï¼‰ |
| **ç›®å½•ç»“æ„** | æ–‡ä»¶æ ‘ + æ–‡ä»¶èŒè´£è¯´æ˜è¡¨ |
| **ä½¿ç”¨ç¤ºä¾‹** | 3+ ä¸ªå®Œæ•´å¯è¿è¡Œä»£ç ç¤ºä¾‹ |
| **æœ€ä½³å®è·µ** | æ¨èåšæ³• + åº”é¿å…åšæ³• + åŸå›  |
| **æ€§èƒ½ä¼˜åŒ–** | æ€§èƒ½æŠ€å·§ã€ä¼˜åŒ–å»ºè®® |
| **é”™è¯¯å¤„ç†/è°ƒè¯•** | å¸¸è§é”™è¯¯ã€è°ƒè¯•æŠ€å·§ |
| **ä¾èµ–å…³ç³»** | ä¾èµ–å›¾ + è¢«ä¾èµ–è¯´æ˜ |
| **ç›¸å…³æ–‡æ¡£** | äº¤å‰é“¾æ¥ |

### ğŸ”´ å¼ºåˆ¶è¦æ±‚ï¼šæ ¸å¿ƒç±»çš„ classDiagram

å¯¹æ¯ä¸ªæ ¸å¿ƒç±»/æ¥å£ï¼Œç”Ÿæˆè¯¦ç»†çš„ç±»å›¾ï¼š

```mermaid
classDiagram
class ClassName {
  +property1 : Type
  +property2 : Type
  -privateField : Type
  +method1(param : Type) : ReturnType
  +method2() : void
}
```

### æ–‡æ¡£å…³è”
- æ¯ä¸ªæ–‡æ¡£å¿…é¡»æœ‰**"ç›¸å…³æ–‡æ¡£"**ç« èŠ‚
- æ¨¡å—æ–‡æ¡£é“¾æ¥åˆ°ï¼šæ¶æ„ä½ç½®ã€API å‚è€ƒã€ä¾èµ–é¡¹
- API æ–‡æ¡£é“¾æ¥åˆ°ï¼šçˆ¶æ¨¡å—ã€ä½¿ç”¨ç¤ºä¾‹ã€ç±»å‹å®šä¹‰

---

## è¾“å‡ºç›®å½•ç»“æ„

```
.mini-wiki/
â”œâ”€â”€ config.yaml              # é…ç½®
â”œâ”€â”€ meta.json                # å…ƒæ•°æ®
â”œâ”€â”€ cache/                   # å¢é‡æ›´æ–°ç¼“å­˜
â”œâ”€â”€ wiki/                    # ä¸» Wiki å†…å®¹
â”‚   â”œâ”€â”€ index.md             # é¡¹ç›®é¦–é¡µæ¦‚è§ˆ
â”‚   â”œâ”€â”€ architecture.md      # ç³»ç»Ÿæ¶æ„ï¼ˆå«å›¾è¡¨ï¼‰
â”‚   â”œâ”€â”€ getting-started.md   # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”‚   â”œâ”€â”€ doc-map.md           # æ–‡æ¡£å…³ç³»å›¾è°±
â”‚   â”œâ”€â”€ modules/             # æ¨¡å—æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ _index.md        # æ¨¡å—ç´¢å¼•
â”‚   â”‚   â””â”€â”€ <module>.md      # å„æ¨¡å—è¯¦ç»†æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                 # API å‚è€ƒ
â”‚   â”‚   â”œâ”€â”€ _index.md        # API ç´¢å¼•
â”‚   â”‚   â””â”€â”€ <module>.md      # æ¨¡å— API æ–‡æ¡£
â”‚   â””â”€â”€ assets/              # å›¾ç‰‡å’Œå›¾è¡¨
â””â”€â”€ i18n/                    # å¤šè¯­è¨€ç‰ˆæœ¬
    â”œâ”€â”€ en/
    â””â”€â”€ zh/
```

## æ‰§è¡Œæµç¨‹

### 1. åˆå§‹åŒ–æ£€æŸ¥

æ£€æŸ¥ `.mini-wiki/` æ˜¯å¦å­˜åœ¨ï¼š
- **ä¸å­˜åœ¨**: è¿è¡Œ `scripts/init_wiki.py` åˆ›å»ºç›®å½•ç»“æ„
- **å­˜åœ¨**: è¯»å– `config.yaml` å’Œç¼“å­˜ï¼Œæ‰§è¡Œå¢é‡æ›´æ–°

### 2. æ’ä»¶å‘ç°

æ£€æŸ¥ `plugins/` ç›®å½•ä¸­å·²å®‰è£…çš„æ’ä»¶ï¼š
1. è¯»å– `plugins/_registry.yaml` è·å–å·²å¯ç”¨æ’ä»¶
2. è¯»å–æ¯ä¸ªæ’ä»¶çš„ `PLUGIN.md` æ¸…å•
3. æ³¨å†Œé’©å­ï¼š`on_init`, `after_analyze`, `before_generate`, `after_generate`

### 3. é¡¹ç›®åˆ†æï¼ˆæ·±åº¦ï¼‰

è¿è¡Œ `scripts/analyze_project.py` æˆ–æ‰‹åŠ¨åˆ†æï¼š

1. **è¯†åˆ«æŠ€æœ¯æ ˆ**: æ£€æŸ¥ package.json, requirements.txt ç­‰
2. **å‘ç°å…¥å£æ–‡ä»¶**: src/index.ts, main.py ç­‰
3. **è¯†åˆ«æ¨¡å—**: æ‰«æ src/ ç›®å½•ç»“æ„
4. **å‘ç°ç°æœ‰æ–‡æ¡£**: README.md, CHANGELOG.md ç­‰
5. **æ‰§è¡Œ `after_analyze` é’©å­**

ä¿å­˜ç»“æ„åˆ° `cache/structure.json`ã€‚

### 4. æ·±åº¦ä»£ç åˆ†æï¼ˆæ–°å¢ - å…³é”®æ­¥éª¤ï¼‰

**é‡è¦**ï¼šå¯¹äºæ¯ä¸ªæ¨¡å—ï¼Œå¿…é¡»è¯»å–å¹¶åˆ†æå®é™…æºä»£ç ï¼š

1. **è¯»å–æºæ–‡ä»¶**ï¼šä½¿ç”¨ read_file å·¥å…·è¯»å–å…³é”®æºä»£ç æ–‡ä»¶
2. **ç†è§£ä»£ç è¯­ä¹‰**ï¼šåˆ†æä»£ç çš„åŠŸèƒ½ï¼Œè€Œä¸ä»…ä»…æ˜¯ç»“æ„
3. **æå–è¯¦ç»†ä¿¡æ¯**ï¼š
   - å‡½æ•°ç›®çš„ã€å‚æ•°ã€è¿”å›å€¼ã€å‰¯ä½œç”¨
   - ç±»å±‚æ¬¡ç»“æ„å’Œå…³ç³»
   - æ•°æ®æµå’ŒçŠ¶æ€ç®¡ç†
   - é”™è¯¯å¤„ç†æ¨¡å¼
   - ä½¿ç”¨çš„è®¾è®¡æ¨¡å¼
4. **è¯†åˆ«å…³ç³»**ï¼šæ¨¡å—ä¾èµ–ã€è°ƒç”¨å›¾ã€æ•°æ®æµ

> ğŸ“– å‚è§ `references/prompts.md` â†’ "ä»£ç æ·±åº¦åˆ†æ" è·å–åˆ†ææç¤ºè¯æ¨¡æ¿

### 5. å˜æ›´æ£€æµ‹

è¿è¡Œ `scripts/detect_changes.py` å¯¹æ¯”æ–‡ä»¶æ ¡éªŒå’Œï¼š
- æ–°å¢æ–‡ä»¶ â†’ ç”Ÿæˆæ–‡æ¡£
- ä¿®æ”¹æ–‡ä»¶ â†’ æ›´æ–°æ–‡æ¡£
- åˆ é™¤æ–‡ä»¶ â†’ æ ‡è®°åºŸå¼ƒ

### 6. å†…å®¹ç”Ÿæˆï¼ˆä¸“ä¸šçº§ï¼‰

æ‰§è¡Œ `before_generate` é’©å­ï¼Œç„¶åæŒ‰ç…§**ä¸¥æ ¼çš„è´¨é‡æ ‡å‡†**ç”Ÿæˆå†…å®¹ï¼š

#### 6.1 é¦–é¡µ (`index.md`)
å¿…é¡»åŒ…å«ï¼š
- é¡¹ç›®å¾½ç« å’Œä¸€å¥è¯æè¿°
- **2-3 æ®µ**è¯¦ç»†ä»‹ç»ï¼ˆä¸åªæ˜¯åˆ—è¡¨ï¼‰
- æ¶æ„é¢„è§ˆå›¾ï¼ˆMermaid flowchartï¼‰
- æ–‡æ¡£å¯¼èˆªè¡¨æ ¼ï¼ˆå«ç›®æ ‡è¯»è€…ï¼‰
- æ ¸å¿ƒç‰¹æ€§è¡¨æ ¼ï¼ˆé“¾æ¥åˆ°æ¨¡å—ï¼‰
- å¿«é€Ÿå¼€å§‹ä»£ç ç¤ºä¾‹ï¼ˆå«é¢„æœŸè¾“å‡ºï¼‰
- é¡¹ç›®ç»Ÿè®¡è¡¨æ ¼
- æ¨¡å—æ¦‚è§ˆè¡¨æ ¼ï¼ˆå«é“¾æ¥ï¼‰

#### 6.2 æ¶æ„æ–‡æ¡£ (`architecture.md`)
å¿…é¡»åŒ…å«ï¼š
- æ‰§è¡Œæ‘˜è¦ï¼ˆå®šä½ã€æŠ€æœ¯æ¦‚è§ˆã€æ¶æ„é£æ ¼ï¼‰
- **ç³»ç»Ÿæ¶æ„å›¾**ï¼ˆMermaid flowchart TB + subgraphï¼‰
- æŠ€æœ¯æ ˆè¡¨æ ¼ï¼ˆç‰ˆæœ¬å’Œé€‰å‹ç†ç”±ï¼‰
- **æ¨¡å—ä¾èµ–å›¾**ï¼ˆMermaid flowchartï¼‰
- è¯¦ç»†æ¨¡å—æè¿°ï¼ˆèŒè´£å’Œæ¥å£ï¼‰
- **æ•°æ®æµå›¾**ï¼ˆMermaid sequenceDiagramï¼‰
- **çŠ¶æ€ç®¡ç†å›¾**ï¼ˆå¦‚é€‚ç”¨ï¼‰
- ç›®å½•ç»“æ„è¯´æ˜
- è®¾è®¡æ¨¡å¼å’ŒåŸåˆ™
- æ‰©å±•æŒ‡å—

#### 6.3 æ¨¡å—æ–‡æ¡£ (`modules/<name>.md`)
æ¯ä¸ªæ¨¡å—æ–‡æ¡£å¿…é¡»åŒ…å«ï¼ˆè‡³å°‘ 16 ä¸ªç« èŠ‚ï¼‰ï¼š
1. æ¨¡å—æ¦‚è¿°ï¼ˆ2-3 æ®µï¼Œä¸æ˜¯ 2-3 å¥ï¼‰
2. æ ¸å¿ƒä»·å€¼ä¸»å¼ 
3. **æ¶æ„ä½ç½®å›¾**ï¼ˆé«˜äº®å½“å‰æ¨¡å—ï¼‰
4. åŠŸèƒ½è¡¨æ ¼ï¼ˆå…³è” APIï¼‰
5. æ–‡ä»¶ç»“æ„ï¼ˆèŒè´£è¯´æ˜ï¼‰
6. **æ ¸å¿ƒå·¥ä½œæµå›¾**ï¼ˆMermaid flowchartï¼‰
7. **çŠ¶æ€å›¾**ï¼ˆå¦‚é€‚ç”¨ï¼‰
8. å…¬å¼€ API æ¦‚è§ˆè¡¨æ ¼
9. è¯¦ç»† API æ–‡æ¡£ï¼ˆç­¾åã€å‚æ•°ã€è¿”å›å€¼ã€ç¤ºä¾‹ï¼‰
10. ç±»å‹å®šä¹‰ï¼ˆå­—æ®µè¡¨æ ¼ï¼‰
11. å¿«é€Ÿå¼€å§‹ä»£ç 
12. **3+ ä½¿ç”¨ç¤ºä¾‹**ï¼ˆå«åœºæ™¯è¯´æ˜ï¼‰
13. æœ€ä½³å®è·µï¼ˆè¯¥åšå’Œä¸è¯¥åšï¼‰
14. è®¾è®¡å†³ç­–å’Œæƒè¡¡
15. **ä¾èµ–å…³ç³»å›¾**
16. ç›¸å…³æ–‡æ¡£é“¾æ¥

#### 6.4 API æ–‡æ¡£ (`api/<name>.md`)
æ¯ä¸ª API æ–‡æ¡£å¿…é¡»åŒ…å«ï¼š
- æ¨¡å—æ¦‚è¿°ï¼ˆå«å¯¼å…¥ç¤ºä¾‹ï¼‰
- API æ¦‚è§ˆè¡¨æ ¼
- ç±»å‹å®šä¹‰ï¼ˆå±æ€§è¡¨æ ¼ï¼‰
- æ¯ä¸ªå‡½æ•°ï¼š
  - ä¸€å¥è¯ + è¯¦ç»†æè¿°ï¼ˆ3+ å¥ï¼‰
  - å‡½æ•°ç­¾å
  - å‚æ•°è¡¨æ ¼ï¼ˆçº¦æŸå’Œé»˜è®¤å€¼ï¼‰
  - è¿”å›å€¼ï¼ˆå¯èƒ½çš„æƒ…å†µï¼‰
  - å¼‚å¸¸è¡¨æ ¼
  - **3 ä¸ªä»£ç ç¤ºä¾‹**ï¼ˆåŸºç¡€ã€è¿›é˜¶ã€é”™è¯¯å¤„ç†ï¼‰
  - è­¦å‘Šå’Œæç¤º
  - ç›¸å…³ API
- ç±»ï¼šç±»å›¾ã€æ„é€ å‡½æ•°ã€å±æ€§ã€æ–¹æ³•
- ä½¿ç”¨æ¨¡å¼ï¼ˆ2-3 ä¸ªå®Œæ•´åœºæ™¯ï¼‰
- FAQ ç« èŠ‚
- ç›¸å…³æ–‡æ¡£

#### 6.5 å¿«é€Ÿå¼€å§‹ (`getting-started.md`)
å¿…é¡»åŒ…å«ï¼š
- å‰ç½®æ¡ä»¶è¡¨æ ¼ï¼ˆç‰ˆæœ¬è¦æ±‚ï¼‰
- å¤šç§å®‰è£…æ–¹å¼
- é…ç½®æ–‡ä»¶è¯´æ˜
- åˆ†æ­¥éª¤çš„ç¬¬ä¸€ä¸ªç¤ºä¾‹
- ä¸‹ä¸€æ­¥è¡¨æ ¼
- å¸¸è§é—®é¢˜ FAQ

#### 6.6 æ–‡æ¡£åœ°å›¾ (`doc-map.md`)
å¿…é¡»åŒ…å«ï¼š
- **æ–‡æ¡£å…³ç³»å›¾**ï¼ˆMermaid flowchartï¼‰
- æŒ‰è§’è‰²çš„é˜…è¯»è·¯å¾„æ¨è
- å®Œæ•´æ–‡æ¡£ç´¢å¼•
- æ¨¡å—ä¾èµ–çŸ©é˜µ

æ‰§è¡Œ `after_generate` é’©å­ã€‚

### 7. ä»£ç é“¾æ¥

ä¸ºä»£ç å—æ·»åŠ æºç é“¾æ¥ï¼š
```markdown
### `functionName` [ğŸ“„](file:///path/to/file.ts#L42)
```

### 8. ä¿å­˜

- å†™å…¥ wiki æ–‡ä»¶åˆ° `.mini-wiki/wiki/`
- æ›´æ–° `cache/checksums.json`
- æ›´æ–° `meta.json` æ—¶é—´æˆ³

---

## ğŸš€ å¤§å‹é¡¹ç›®æ¸è¿›å¼æ‰«æ

**é—®é¢˜**ï¼šå¤§å‹é¡¹ç›®æ—¶ï¼ŒAI å¯èƒ½åªç”Ÿæˆå°‘é‡æ–‡æ¡£è€Œæ²¡æœ‰å…¨é¢è¦†ç›–æ‰€æœ‰æ¨¡å—ã€‚

### è§¦å‘æ¡ä»¶

å½“é¡¹ç›®æ»¡è¶³ä»¥ä¸‹ä»»ä¸€æ¡ä»¶æ—¶ï¼Œå¿…é¡»ä½¿ç”¨æ¸è¿›å¼æ‰«æç­–ç•¥ï¼š
- æ¨¡å—æ•°é‡ > 10
- æºæ–‡ä»¶æ•°é‡ > 50
- ä»£ç è¡Œæ•° > 10,000

### æ¸è¿›å¼æ‰«æç­–ç•¥

```mermaid
flowchart TB
    A[é¡¹ç›®åˆ†æ] --> B{æ¨¡å—æ•°é‡ > 10?}
    B -->|æ˜¯| C[å¯ç”¨æ¸è¿›å¼æ‰«æ]
    B -->|å¦| D[æ ‡å‡†æ‰«æ]
    C --> E[æ¨¡å—ä¼˜å…ˆçº§æ’åº]
    E --> F[æ‰¹æ¬¡åˆ’åˆ†]
    F --> G[é€æ‰¹ç”Ÿæˆæ–‡æ¡£]
    G --> H{è¿˜æœ‰æœªå¤„ç†æ¨¡å—?}
    H -->|æ˜¯| I[ä¿å­˜è¿›åº¦]
    I --> J[æç¤ºç”¨æˆ·ç»§ç»­]
    J --> G
    H -->|å¦| K[ç”Ÿæˆç´¢å¼•å’Œå…³ç³»å›¾]
```

### æ‰§è¡Œæ­¥éª¤

#### Step 1: æ¨¡å—ä¼˜å…ˆçº§æ’åº
æŒ‰ä»¥ä¸‹ç»´åº¦è®¡ç®—ä¼˜å…ˆçº§åˆ†æ•°ï¼š

| ç»´åº¦ | æƒé‡ | è¯´æ˜ |
|------|------|------|
| å…¥å£ç‚¹ | 5 | main.py, index.ts ç­‰ |
| è¢«ä¾èµ–æ¬¡æ•° | 4 | è¢«å…¶ä»–æ¨¡å— import çš„æ¬¡æ•° |
| ä»£ç è¡Œæ•° | 2 | è¾ƒå¤§çš„æ¨¡å—ä¼˜å…ˆ |
| æœ‰ç°æœ‰æ–‡æ¡£ | 3 | README æˆ– docs å­˜åœ¨ |
| æœ€è¿‘ä¿®æ”¹ | 1 | æœ€è¿‘ä¿®æ”¹çš„ä¼˜å…ˆ |

#### Step 2: æ‰¹æ¬¡åˆ’åˆ†

**ğŸ”´ å…³é”®ï¼šæ¯æ‰¹æœ€å¤š 2-3 ä¸ªæ¨¡å—ï¼Œç¡®ä¿æ¯ä¸ªæ–‡æ¡£ 200+ è¡Œ**

```yaml
batch_config:
  batch_size: 2              # æ¯æ‰¹å¤„ç† 2-3 ä¸ªæ¨¡å—ï¼ˆç¡®ä¿è´¨é‡ï¼‰
  min_lines_per_doc: 200     # æ¯ä¸ªæ–‡æ¡£æœ€å°‘ 200 è¡Œ
  pause_between_batches: true # æ‰¹æ¬¡é—´æš‚åœç¡®è®¤
  auto_continue: false        # æ˜¯å¦è‡ªåŠ¨ç»§ç»­ä¸‹ä¸€æ‰¹
```

**æ‰¹æ¬¡åˆ†é…ç¤ºä¾‹**ï¼ˆ35 ä¸ªæ¨¡å—çš„é¡¹ç›®ï¼‰:
| æ‰¹æ¬¡ | å†…å®¹ | é¢„æœŸè¡Œæ•° |
|------|------|----------|
| 1 | `index.md`, `architecture.md` | 500+ |
| 2 | `getting-started.md`, `doc-map.md` | 400+ |
| 3 | `agent-core.md`, `agent.md` | 500+ |
| 4 | `store.md`, `editor-core.md` | 500+ |
| ... | æ¯æ‰¹ 2-3 ä¸ªæ¨¡å— | 200+/æ¨¡å— |

#### Step 3: è¿›åº¦è·Ÿè¸ª
åœ¨ `cache/progress.json` ä¸­è®°å½•ï¼š
```json
{
  "version": "2.0.0",
  "total_modules": 25,
  "completed_modules": ["core", "utils", "api"],
  "pending_modules": ["auth", "db", "..."],
  "current_batch": 2,
  "last_updated": "2026-01-28T21:15:00Z",
  "quality_version": "professional-v2"
}
```

#### Step 4: æ–­ç‚¹ç»­ä¼ 
å½“ç”¨æˆ·è¯´ "ç»§ç»­ç”Ÿæˆ wiki" æ—¶ï¼š
1. è¯»å– `cache/progress.json`
2. è·³è¿‡å·²å®Œæˆçš„æ¨¡å—
3. ä»ä¸‹ä¸€æ‰¹æ¬¡ç»§ç»­

### ğŸ”´ æ¯æ‰¹æ¬¡è´¨é‡æ£€æŸ¥

**ç”Ÿæˆæ¯æ‰¹åï¼Œå¿…é¡»éªŒè¯è´¨é‡**ï¼š

```bash
# æ£€æŸ¥æœ¬æ‰¹ç”Ÿæˆçš„æ–‡æ¡£
python scripts/check_quality.py .mini-wiki --verbose
```

**è´¨é‡é—¨æ§›**ï¼š
| æŒ‡æ ‡ | æœ€ä½è¦æ±‚ | æœªè¾¾æ ‡å¤„ç† |
|------|----------|-----------|
| è¡Œæ•° | â‰¥200 | é‡æ–°ç”Ÿæˆè¯¥æ–‡æ¡£ |
| ç« èŠ‚æ•° | â‰¥9 | è¡¥å……ç¼ºå¤±ç« èŠ‚ |
| å›¾è¡¨æ•° | â‰¥2 | æ·»åŠ  classDiagram |
| æºç è¿½æº¯ | æ¯ç« èŠ‚ | æ·»åŠ  Section sources |

### ç”¨æˆ·äº¤äº’æç¤º

æ¯æ‰¹æ¬¡å®Œæˆåï¼Œå‘ç”¨æˆ·æŠ¥å‘Šï¼š
```
âœ… ç¬¬ 2 æ‰¹å®Œæˆ (6/25 æ¨¡å—)

å·²ç”Ÿæˆ:
- modules/store.md (245 è¡Œ, Professional âœ…)
- modules/editor-core.md (312 è¡Œ, Professional âœ…)

è´¨é‡æ£€æŸ¥: å…¨éƒ¨é€šè¿‡ âœ…

å¾…å¤„ç†: 19 ä¸ªæ¨¡å—
é¢„è®¡è¿˜éœ€: 10 æ‰¹æ¬¡

ğŸ‘‰ è¾“å…¥ "ç»§ç»­" ç”Ÿæˆä¸‹ä¸€æ‰¹
ğŸ‘‰ è¾“å…¥ "æ£€æŸ¥è´¨é‡" è¿è¡Œè´¨é‡æ£€æŸ¥
ğŸ‘‰ è¾“å…¥ "é‡æ–°ç”Ÿæˆ <æ¨¡å—å>" é‡æ–°ç”Ÿæˆç‰¹å®šæ¨¡å—
```

### é…ç½®é€‰é¡¹

```yaml
# .mini-wiki/config.yaml
progressive:
  enabled: auto               # auto / always / never
  batch_size: 2               # æ¯æ‰¹æ¨¡å—æ•°ï¼ˆ2-3 ç¡®ä¿è´¨é‡ï¼‰
  min_lines_per_doc: 200      # æ¯ä¸ªæ–‡æ¡£æœ€å°‘è¡Œæ•°
  quality_check: true         # æ¯æ‰¹åè‡ªåŠ¨æ£€æŸ¥è´¨é‡
  auto_continue: false        # è‡ªåŠ¨ç»§ç»­æ— éœ€ç¡®è®¤
  priority_weights:           # è‡ªå®šä¹‰ä¼˜å…ˆçº§æƒé‡
    entry_point: 5
    dependency_count: 4
    code_lines: 2
    has_docs: 3
    recent_modified: 1
  skip_modules:               # è·³è¿‡çš„æ¨¡å—
    - __tests__
    - examples
```

---

## ğŸ”„ æ–‡æ¡£å‡çº§ä¸åˆ·æ–°

**é—®é¢˜**ï¼šå‡çº§ mini-wiki åï¼Œä¹‹å‰ç”Ÿæˆçš„ä½è´¨é‡æ–‡æ¡£éœ€è¦åˆ·æ–°å‡çº§ã€‚

### ç‰ˆæœ¬æ£€æµ‹æœºåˆ¶

åœ¨ `meta.json` ä¸­è®°å½•æ–‡æ¡£ç”Ÿæˆç‰ˆæœ¬ï¼Œå¹¶åœ¨æ¯ä¸ªæ–‡æ¡£é¡µè„šæ˜¾ç¤ºï¼š

**é¡µè„šæ ¼å¼**: `*ç”± [Mini-Wiki v{{ MINI_WIKI_VERSION }}](https://github.com/trsoliu/mini-wiki) è‡ªåŠ¨ç”Ÿæˆ | {{ GENERATED_AT }}*`

```json
{
  "generator_version": "3.0.5",  // ç”¨äº {{ MINI_WIKI_VERSION }}
  "quality_standard": "professional-v2",
  "generated_at": "2026-01-28T21:15:00Z",
  "modules": {
    "core": {
      "version": "1.0.0",
      "quality": "basic",
      "sections": 6,
      "has_diagrams": false,
      "last_updated": "2026-01-20T10:00:00Z"
    }
  }
}
```

### è´¨é‡è¯„ä¼°æ ‡å‡†

| è´¨é‡ç­‰çº§ | ç« èŠ‚æ•° | å›¾è¡¨æ•° | ç¤ºä¾‹æ•° | äº¤å‰é“¾æ¥ |
|---------|--------|--------|--------|----------|
| `basic` | < 8 | 0 | 0-1 | æ—  |
| `standard` | 8-12 | 1 | 1-2 | éƒ¨åˆ† |
| `professional` | 13-16 | 2+ | 3+ | å®Œæ•´ |

### å‡çº§è§¦å‘æ¡ä»¶

```mermaid
flowchart TB
    A[æ£€æµ‹ .mini-wiki/] --> B{meta.json å­˜åœ¨?}
    B -->|å¦| C[å…¨æ–°ç”Ÿæˆ]
    B -->|æ˜¯| D[è¯»å–ç‰ˆæœ¬ä¿¡æ¯]
    D --> E{ç‰ˆæœ¬ < 2.0.0?}
    E -->|æ˜¯| F[æ ‡è®°éœ€è¦å‡çº§]
    E -->|å¦| G{quality != professional?}
    G -->|æ˜¯| F
    G -->|å¦| H[å¢é‡æ›´æ–°]
    F --> I[ç”Ÿæˆå‡çº§è®¡åˆ’]
    I --> J[æç¤ºç”¨æˆ·ç¡®è®¤]
```

### å‡çº§ç­–ç•¥

#### ç­–ç•¥ 1: å…¨é‡åˆ·æ–° (`refresh_all`)
é€‚ç”¨äºï¼šç‰ˆæœ¬å·®å¼‚å¤§ã€æ–‡æ¡£è´¨é‡å·®
```
ç”¨æˆ·å‘½ä»¤: "åˆ·æ–°å…¨éƒ¨ wiki"
```

#### ç­–ç•¥ 2: æ¸è¿›å¼å‡çº§ (`upgrade_progressive`)
é€‚ç”¨äºï¼šæ¨¡å—å¤šã€å¸Œæœ›ä¿ç•™éƒ¨åˆ†å†…å®¹
```
ç”¨æˆ·å‘½ä»¤: "å‡çº§ wiki"
```

#### ç­–ç•¥ 3: é€‰æ‹©æ€§å‡çº§ (`upgrade_selective`)
é€‚ç”¨äºï¼šåªæƒ³å‡çº§ç‰¹å®šæ¨¡å—
```
ç”¨æˆ·å‘½ä»¤: "å‡çº§ core æ¨¡å—æ–‡æ¡£"
```

### å‡çº§æ‰§è¡Œæµç¨‹

#### Step 1: æ‰«æç°æœ‰æ–‡æ¡£
```python
# ä¼ªä»£ç 
for doc in existing_docs:
    score = evaluate_quality(doc)
    if score.sections < 10 or not score.has_diagrams:
        mark_for_upgrade(doc, priority=HIGH)
    elif score.sections < 13:
        mark_for_upgrade(doc, priority=MEDIUM)
```

#### Step 2: ç”Ÿæˆå‡çº§æŠ¥å‘Š
```
ğŸ“Š Wiki å‡çº§è¯„ä¼°æŠ¥å‘Š

å½“å‰ç‰ˆæœ¬: 1.0.0 (basic)
ç›®æ ‡ç‰ˆæœ¬: 2.0.0 (professional)

éœ€è¦å‡çº§çš„æ–‡æ¡£:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡æ¡£            â”‚ å½“å‰ç« èŠ‚ â”‚ ç›®æ ‡   â”‚ ç¼ºå°‘å›¾è¡¨â”‚ ä¼˜å…ˆçº§   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ modules/core.md â”‚ 6        â”‚ 16     â”‚ æ˜¯      â”‚ ğŸ”´ é«˜    â”‚
â”‚ modules/api.md  â”‚ 8        â”‚ 16     â”‚ æ˜¯      â”‚ ğŸ”´ é«˜    â”‚
â”‚ modules/utils.mdâ”‚ 10       â”‚ 16     â”‚ å¦      â”‚ ğŸŸ¡ ä¸­    â”‚
â”‚ architecture.md â”‚ 5        â”‚ 12     â”‚ æ˜¯      â”‚ ğŸ”´ é«˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ‘‰ è¾“å…¥ "ç¡®è®¤å‡çº§" å¼€å§‹ï¼Œæˆ– "è·³è¿‡ <æ–‡æ¡£>" æ’é™¤ç‰¹å®šæ–‡æ¡£
```

#### Step 3: ä¿ç•™ä¸åˆå¹¶
å‡çº§æ—¶ä¿ç•™ï¼š
- ç”¨æˆ·æ‰‹åŠ¨æ·»åŠ çš„å†…å®¹ï¼ˆé€šè¿‡ `<!-- user-content -->` æ ‡è®°ï¼‰
- è‡ªå®šä¹‰é…ç½®
- å†å²ç‰ˆæœ¬å¤‡ä»½åˆ° `cache/backup/`

#### Step 4: æ¸è¿›å¼å‡çº§æ‰§è¡Œ
```
ğŸ”„ æ­£åœ¨å‡çº§ modules/core.md (1/8)

å‡çº§å†…å®¹:
  âœ… æ‰©å±•æ¨¡å—æ¦‚è¿° (2å¥ â†’ 3æ®µ)
  âœ… æ·»åŠ æ¶æ„ä½ç½®å›¾
  âœ… æ·»åŠ æ ¸å¿ƒå·¥ä½œæµå›¾
  âœ… æ‰©å±• API æ–‡æ¡£ (æ·»åŠ 3ä¸ªç¤ºä¾‹)
  âœ… æ·»åŠ æœ€ä½³å®è·µç« èŠ‚
  âœ… æ·»åŠ è®¾è®¡å†³ç­–ç« èŠ‚
  âœ… æ·»åŠ ä¾èµ–å…³ç³»å›¾
  âœ… æ·»åŠ ç›¸å…³æ–‡æ¡£é“¾æ¥

ç« èŠ‚æ•°: 6 â†’ 16 âœ…
å›¾è¡¨æ•°: 0 â†’ 3 âœ…
```

### é…ç½®é€‰é¡¹

```yaml
# .mini-wiki/config.yaml
upgrade:
  auto_detect: true           # è‡ªåŠ¨æ£€æµ‹éœ€è¦å‡çº§çš„æ–‡æ¡£
  backup_before_upgrade: true # å‡çº§å‰å¤‡ä»½
  preserve_user_content: true # ä¿ç•™ç”¨æˆ·è‡ªå®šä¹‰å†…å®¹
  user_content_marker: "<!-- user-content -->"
  upgrade_strategy: progressive  # all / progressive / selective
  min_quality: professional   # æœ€ä½è´¨é‡è¦æ±‚
```

### ç”¨æˆ·å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `æ£€æŸ¥ wiki è´¨é‡` | ç”Ÿæˆè´¨é‡è¯„ä¼°æŠ¥å‘Š |
| `å‡çº§ wiki` | æ¸è¿›å¼å‡çº§ä½è´¨é‡æ–‡æ¡£ |
| `åˆ·æ–°å…¨éƒ¨ wiki` | é‡æ–°ç”Ÿæˆæ‰€æœ‰æ–‡æ¡£ |
| `å‡çº§ <æ¨¡å—> æ–‡æ¡£` | å‡çº§ç‰¹å®šæ¨¡å— |
| `ç»§ç»­å‡çº§` | ç»§ç»­æœªå®Œæˆçš„å‡çº§ |

---

## æ’ä»¶ç³»ç»Ÿ

### æ’ä»¶å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `åˆ—å‡ºæ’ä»¶` | æ˜¾ç¤ºå·²å®‰è£…æ’ä»¶ |
| `å®‰è£…æ’ä»¶ <è·¯å¾„/URL>` | ä»è·¯å¾„æˆ–URLå®‰è£… |
| `å¯ç”¨æ’ä»¶ <åç§°>` | å¯ç”¨æ’ä»¶ |
| `ç¦ç”¨æ’ä»¶ <åç§°>` | ç¦ç”¨æ’ä»¶ |
| `å¸è½½æ’ä»¶ <åç§°>` | ç§»é™¤æ’ä»¶ |

### æ’ä»¶è„šæœ¬

```bash
python scripts/plugin_manager.py list
python scripts/plugin_manager.py install <source>
python scripts/plugin_manager.py enable <name>
python scripts/plugin_manager.py disable <name>
```

### åˆ›å»ºæ’ä»¶

è§ `references/plugin-template.md` äº†è§£æ’ä»¶æ ¼å¼ã€‚

æ”¯æŒçš„é’©å­ï¼š
- `on_init` - åˆå§‹åŒ–æ—¶è¿è¡Œ
- `after_analyze` - æ·»åŠ åˆ†ææ•°æ®
- `before_generate` - ä¿®æ”¹æç¤ºè¯
- `after_generate` - åå¤„ç†è¾“å‡º
- `on_export` - æ ¼å¼è½¬æ¢

## è„šæœ¬å‚è€ƒ

| è„šæœ¬ | ç”¨é€” |
|------|------|
| `scripts/init_wiki.py <path>` | åˆå§‹åŒ– .mini-wiki ç›®å½• |
| `scripts/analyze_project.py <path>` | åˆ†æé¡¹ç›®ç»“æ„ |
| `scripts/detect_changes.py <path>` | æ£€æµ‹æ–‡ä»¶å˜æ›´ |
| `scripts/generate_diagram.py <wiki-dir>` | ç”Ÿæˆ Mermaid å›¾è¡¨ |
| `scripts/extract_docs.py <file>` | æå–ä»£ç æ³¨é‡Š |
| `scripts/generate_toc.py <wiki-dir>` | ç”Ÿæˆç›®å½• |
| `scripts/plugin_manager.py <cmd>` | ç®¡ç†æ’ä»¶ |
| `scripts/check_quality.py <wiki-dir>` | **æ–‡æ¡£è´¨é‡æ£€æŸ¥ï¼ˆv3.0.3 æ–°å¢ï¼‰** |

### è´¨é‡æ£€æŸ¥è„šæœ¬

```bash
# åŸºæœ¬æ£€æŸ¥
python scripts/check_quality.py /path/to/.mini-wiki

# è¯¦ç»†æŠ¥å‘Š
python scripts/check_quality.py /path/to/.mini-wiki --verbose

# å¯¼å‡º JSON æŠ¥å‘Š
python scripts/check_quality.py /path/to/.mini-wiki --json report.json
```

**æ£€æŸ¥é¡¹ç›®**:
- è¡Œæ•° (â‰¥200)
- ç« èŠ‚æ•° (â‰¥9)
- å›¾è¡¨æ•° (â‰¥2-3)
- classDiagram ç±»å›¾
- ä»£ç ç¤ºä¾‹ (â‰¥3)
- æºç è¿½æº¯ (Section sources)
- å¿…éœ€ç« èŠ‚ (æœ€ä½³å®è·µã€æ€§èƒ½ä¼˜åŒ–ã€é”™è¯¯å¤„ç†)

**è´¨é‡ç­‰çº§**:
| ç­‰çº§ | è¯´æ˜ |
|------|------|
| ğŸŸ¢ Professional | å®Œå…¨ç¬¦åˆ v3.0.3 æ ‡å‡† |
| ğŸŸ¡ Standard | åŸºæœ¬åˆæ ¼ï¼Œå¯ä¼˜åŒ– |
| ğŸ”´ Basic | éœ€è¦å‡çº§ |

## å‚è€ƒèµ„æ–™

è¯¦ç»†æ¨¡æ¿å’Œæç¤ºè¯è§ `references/` ç›®å½•ï¼š
- **[prompts.md](prompts.md)**: AI æç¤ºè¯æ¨¡æ¿ï¼ˆä¸“ä¸šçº§å†…å®¹ç”Ÿæˆï¼‰
  - é€šç”¨è´¨é‡æ ‡å‡†
  - ä»£ç æ·±åº¦åˆ†æ
  - æ¨¡å—æ–‡æ¡£ï¼ˆ16 ä¸ªç« èŠ‚ï¼‰
  - æ¶æ„æ–‡æ¡£
  - API æ–‡æ¡£
  - é¦–é¡µ
  - å…³ç³»å›¾è°±
- **[templates.md](templates.md)**: Wiki é¡µé¢æ¨¡æ¿ï¼ˆå« Mermaid å›¾è¡¨ï¼‰
  - é¦–é¡µæ¨¡æ¿
  - æ¶æ„æ–‡æ¡£æ¨¡æ¿
  - æ¨¡å—æ–‡æ¡£æ¨¡æ¿ï¼ˆå®Œæ•´ç‰ˆï¼‰
  - API å‚è€ƒæ¨¡æ¿
  - å¿«é€Ÿå¼€å§‹æ¨¡æ¿
  - æ–‡æ¡£ç´¢å¼•æ¨¡æ¿
  - é…ç½®æ¨¡æ¿
- **[plugin-template.md](plugin-template.md)**: æ’ä»¶å¼€å‘æŒ‡å—

## é…ç½®æ–‡ä»¶

`.mini-wiki/config.yaml` æ ¼å¼ï¼š

```yaml
generation:
  language: zh              # zh / en / both
  detail_level: detailed    # minimal / standard / detailed
  include_diagrams: true    # ç”Ÿæˆ Mermaid å›¾è¡¨
  include_examples: true    # åŒ…å«ä»£ç ç¤ºä¾‹
  link_to_source: true      # é“¾æ¥åˆ°æºæ–‡ä»¶
  min_sections: 10          # æ¯ä¸ªæ¨¡å—æ–‡æ¡£æœ€å°‘ç« èŠ‚æ•°

diagrams:
  architecture_style: flowchart TB
  dataflow_style: sequenceDiagram
  use_colors: true          # æ¨¡å—ç±»å‹é¢œè‰²ç¼–ç 

linking:
  auto_cross_links: true    # è‡ªåŠ¨ç”Ÿæˆäº¤å‰å¼•ç”¨
  generate_doc_map: true    # ç”Ÿæˆ doc-map.md
  generate_dependency_graph: true

exclude:
  - node_modules
  - dist
  - "*.test.ts"
```
